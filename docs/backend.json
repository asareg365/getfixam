{
  "entities": {
    "Admin": {
      "title": "Admin",
      "description": "An administrator user with special privileges.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "The admin's email address."
        },
        "role": {
          "type": "string",
          "description": "The role of the admin.",
          "enum": ["super_admin", "admin"]
        },
        "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "The timestamp when the admin was created."
        }
      },
      "required": ["email", "role", "createdAt"]
    },
    "Service": {
        "title": "Service",
        "description": "A service category offered by providers.",
        "type": "object",
        "properties": {
            "name": {
                "type": "string",
                "description": "The name of the service (e.g., Plumber)."
            },
            "slug": {
                "type": "string",
                "description": "A URL-friendly version of the service name."
            },
            "icon": {
                "type": "string",
                "description": "The name of the lucide-react icon for the service."
            },
            "active": {
                "type": "boolean",
                "description": "Whether the service is currently active and shown to users."
            }
        },
        "required": ["name", "slug", "active"]
    },
    "Provider": {
        "title": "Provider",
        "description": "A service provider or artisan.",
        "type": "object",
        "properties": {
            "name": {
                "type": "string",
                "description": "The full name of the provider or business."
            },
            "phone": {
                "type": "string",
                "description": "The contact phone number."
            },
            "whatsapp": {
                "type": "string",
                "description": "The contact WhatsApp number."
            },
            "serviceId": {
                "type": "string",
                "description": "The ID of the service they provide, linking to the 'services' collection."
            },
            "location": {
                "type": "object",
                "properties": {
                    "region": {
                      "type": "string",
                      "description": "The region where the provider is located."
                    },
                    "city": {
                        "type": "string",
                        "description": "The city where the provider is located."
                    },
                    "zone": {
                        "type": "string",
                        "description": "The specific area or neighborhood within the city."
                    }
                },
                "required": ["region", "city", "zone"]
            },
            "status": {
              "type": "string",
              "description": "The approval status of the provider.",
              "enum": ["pending", "approved", "rejected", "suspended"]
            },
            "verified": {
                "type": "boolean",
                "description": "Whether the provider has been verified by an admin."
            },
            "rating": {
                "type": "number",
                "description": "The average rating from user reviews."
            },
            "reviewCount": {
                "type": "number",
                "description": "The total number of reviews."
            },
            "createdAt": {
                "type": "string",
                "format": "date-time",
                "description": "The timestamp when the provider was added."
            },
            "approvedAt": {
              "type": "string",
              "format": "date-time",
              "description": "The timestamp when the provider was approved."
            }
        },
        "required": ["name", "phone", "serviceId", "location", "status", "verified", "createdAt"]
    },
    "Location": {
      "title": "Location",
      "description": "Defines predefined zones for a city.",
      "type": "object",
      "properties": {
        "city": {
          "type": "string",
          "description": "The name of the city."
        },
        "zones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of zones or areas within the city."
        }
      },
      "required": ["city", "zones"]
    }
  },
  "auth": {
    "providers": ["email"]
  },
  "firestore": {
    "/admins/{adminId}": {
      "schema": {
        "$ref": "#/entities/Admin"
      },
      "description": "Stores admin user information and roles."
    },
    "/services/{serviceId}": {
        "schema": {
            "$ref": "#/entities/Service"
        },
        "description": "Stores the categories of services offered."
    },
    "/providers/{providerId}": {
        "schema": {
            "$ref": "#/entities/Provider"
        },
        "description": "Stores the profiles of service providers."
    },
    "/locations/{locationId}": {
      "schema": {
        "$ref": "#/entities/Location"
      },
      "description": "Stores location data, like zones for a city. The document ID would typically be the city name, e.g., 'berekum'."
    }
  }
}
